---
sidebar_position: 2
---
import PluginInstallList from '@site/src/components/PluginInstallList';

# 手动创建

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

欢迎使用 TabooLib！本教程将帮助你创建第一个使用 TabooLib 的插件。

## 环境准备

在开始之前，请确保你已经安装了以下工具：

:::info 必需环境

- **JDK 8** 或更高版本
- **IntelliJ IDEA** （推荐）或其他 IDE

:::

## 创建项目

### 1. 创建 Gradle 项目

使用 IntelliJ IDEA 创建一个新的 Gradle 项目：

1. File → New → Project
2. 选择 **Gradle**
3. 语言选择 **Kotlin**
4. Build System 选择 **Gradle**

### 2. 配置 build.gradle.kts

## 版本信息

| 构建版本                                                                                                                                                               | 发行时间                                                                                                                                                              | 发行者                                                                                                                                                                   | 插件版本                                                                                                                                                                            |
|--------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ![](https://img.shields.io/badge/dynamic/json?label=Version&query=%24.tag_name&url=https%3A%2F%2Fapi.github.com%2Frepos%2FTabooLib%2FTabooLib%2Freleases%2Flatest) | ![](https://img.shields.io/badge/dynamic/json?label=Date&query=%24.created_at&url=https%3A%2F%2Fapi.github.com%2Frepos%2FTabooLib%2FTabooLib%2Freleases%2Flatest) | ![](https://img.shields.io/badge/dynamic/json?label=Author&query=%24.author.login&url=https%3A%2F%2Fapi.github.com%2Frepos%2FTabooLib%2FTabooLib%2Freleases%2Flatest) | ![](https://img.shields.io/badge/dynamic/json?label=Plugin&query=%24.tag_name&url=https%3A%2F%2Fapi.github.com%2Frepos%2FTabooLib%2Ftaboolib-gradle-plugin%2Freleases%2Flatest) |

在项目根目录的 `build.gradle.kts` 文件中添加以下配置：

<Tabs groupId="build-system">
<TabItem value="gradle-kts" label="Kotlin DSL" default>

```kotlin title="build.gradle.kts" showLineNumbers
import io.izzel.taboolib.gradle.*
import org.jetbrains.kotlin.gradle.dsl.JvmTarget
plugins {
    java
    // highlight-next-line
    id("io.izzel.taboolib") version "2.0.27" // 上方的 插件版本
    kotlin("jvm") version "2.2.20" // Kotlin 版本
}

taboolib {
    // 选择需要的模块
    install(Basic, Bukkit, BukkitHook, BukkitNMSUtil)

    // 设置 TabooLib 版本
    version {
        taboolib = "6.2.3-664550e" // 上方的 构建版本
        coroutines = "1.8.1"
    }
}
```

</TabItem>
<TabItem value="gradle-groovy" label="Groovy DSL">

```groovy title="build.gradle" showLineNumbers
import io.izzel.taboolib.gradle.*

plugins {
    id 'java'
    // highlight-next-line
    id 'io.izzel.taboolib' version '2.0.27' // 上方的 插件版本
    id 'org.jetbrains.kotlin.jvm' version '2.2.20' // Kotlin 版本
}

// highlight-start
taboolib {
    // 选择需要的模块
    install Basic, Bukkit, BukkitHook, BukkitNMSUtil

    // 设置 TabooLib 版本
    version {
        taboolib = '6.2.3-664550e' // 上方的 构建版本
        coroutines = '1.8.1'
    }
}
// highlight-end
```

</TabItem>
</Tabs>

### 3. 添加依赖

#### 添加模块

<PluginInstallList />

#### 添加依赖

```kotlin title="build.gradle.kts" {3-5}
dependencies {
    compileOnly(kotlin("stdlib"))
    // highlight-start
    compileOnly("ink.ptms.core:v12004:12004:mapped")
    compileOnly("ink.ptms.core:v12004:12004:universal")
    // highlight-end
}
```

## 创建插件主类

在 `src/main/kotlin` 目录下创建你的插件主类：

<Tabs groupId="programming-language">
<TabItem value="kotlin" label="Kotlin">

```kotlin title="src/main/kotlin/com/example/ExamplePlugin.kt" showLineNumbers
package com.example

import taboolib.common.platform.Plugin
import taboolib.common.platform.function.info
import taboolib.platform.BukkitPlugin

// highlight-next-line
object ExamplePlugin : BukkitPlugin() {

    override fun onEnable() {
        // highlight-next-line
        info("TabooLib 插件已启动！")
        info("版本: ${description.version}")
    }

    override fun onDisable() {
        info("插件已关闭，再见！")
    }
}
```

</TabItem>
<TabItem value="java" label="Java">

```java title="src/main/java/com/example/ExamplePlugin.java" showLineNumbers
package com.example;

import taboolib.common.platform.Plugin;
import taboolib.common.platform.function.FunctionKt;
import taboolib.platform.BukkitPlugin;

// highlight-next-line
public final class ExamplePlugin extends BukkitPlugin {

    private static ExamplePlugin instance;

    public ExamplePlugin() {
        instance = this;
    }

    @Override
    public void onEnable() {
        // highlight-next-line
        FunctionKt.info("TabooLib 插件已启动！");
        FunctionKt.info("版本: " + getDescription().getVersion());
    }

    @Override
    public void onDisable() {
        FunctionKt.info("插件已关闭，再见！");
    }

    public static ExamplePlugin getInstance() {
        return instance;
    }
}
```

</TabItem>
</Tabs>

:::tip Kotlin 对象

在 Kotlin 中使用 `object` 声明会自动创建单例，无需手动管理实例。这是推荐的做法！

:::

## 关于 plugin.yml

默认情况下，你是不需要手动创建的，TabooLib会自动创建。

## 构建和测试

### 构建插件

```bash
./gradlew clean build
```

构建完成后，在 `build/libs` 目录下会生成插件 JAR 文件。

### 测试插件

1. 将生成的 JAR 文件复制到服务器的 `plugins` 目录
2. 启动服务器
3. 查看控制台输出

你应该会看到类似这样的日志：

```log
[ExamplePlugin] TabooLib 插件已启动！
[ExamplePlugin] 版本: 1.0.0
```

:::success 恭喜！

你已经成功创建了第一个 TabooLib 插件！🎉

:::

## 下一步

现在你已经掌握了基础，可以继续学习：

- [命令系统](/docs/basic-tech/command/) - 创建强大的命令
- [配置文件](/docs/basic-tech/config/) - 管理插件配置
- [语言文件](/docs/basic-tech/language/) - 实现多语言支持
- [数据库](/docs/basic-tech/database/) - 数据持久化

## 获取帮助

遇到问题？欢迎加入我们的社区：

- [GitHub Issues](https://github.com/TabooLib/taboolib/issues)
- [QQ 群](https://qm.qq.com/q/i4Q9SFRqq4)
- [文档首页](/docs/intro)
