---
sidebar_position: 3
title: é«˜ç‰ˆæœ¬ Paper å…¼å®¹
sidebar_label: Paper å…¼å®¹å±‚
description: ä½¿ç”¨ Bridge æ¨¡å—è§£å†³ TabooLib ä¸é«˜ç‰ˆæœ¬ Paper API çš„å…¼å®¹æ€§é—®é¢˜
---

# é«˜ç‰ˆæœ¬ Paper å…¼å®¹

åœ¨ä½¿ç”¨ TabooLib å¼€å‘ Paper æ’ä»¶æ—¶ï¼Œä½ å¯èƒ½ä¼šé‡åˆ°é«˜ç‰ˆæœ¬ Paper API ä¸ TabooLib çš„å…¼å®¹æ€§é—®é¢˜ã€‚æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•é€šè¿‡ **Bridge æ¨¡å—**ï¼ˆä¸­é—´å±‚ï¼‰ä¼˜é›…åœ°è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

## ä¸ºä»€ä¹ˆéœ€è¦ Bridge æ¨¡å—ï¼Ÿ

### é—®é¢˜èƒŒæ™¯

```mermaid
graph LR
    A[TabooLib é¡¹ç›®] --> B[Paper API]
    A --> C[TabooLib ä¾èµ–]
    C --> D[Kotlin æ ‡å‡†åº“]

    style A fill:#e3f2fd
    style B fill:#fff3e0
    style C fill:#f3e5f5
    style D fill:#e8f5e9
```

å½“ä½ çš„é¡¹ç›®åŒæ—¶ä¾èµ– TabooLib å’Œé«˜ç‰ˆæœ¬ Paper API æ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ°ä»¥ä¸‹é—®é¢˜ï¼š

1. **ä¾èµ–å†²çª**ï¼šTabooLib çš„ Kotlin ç‰ˆæœ¬å¯èƒ½ä¸ä½ é¡¹ç›®éœ€è¦çš„ç‰ˆæœ¬ä¸ä¸€è‡´
2. **API ç‰ˆæœ¬ä¸å…¼å®¹**ï¼šé«˜ç‰ˆæœ¬ Paper API çš„æŸäº›ç‰¹æ€§åœ¨ TabooLib ç¯å¢ƒä¸‹æ— æ³•ç›´æ¥ä½¿ç”¨
3. **æ„å»ºå¤æ‚åº¦**ï¼šéœ€è¦å¤„ç† shadeã€relocate ç­‰å¤æ‚çš„ Gradle é…ç½®

### Bridge æ¨¡å—è§£å†³æ–¹æ¡ˆ

```mermaid
graph TB
    A[TabooLib Core æ¨¡å—] --> B[Bridge ä¸­é—´å±‚]
    B --> C[Paper API]

    A2[çº¯ Kotlin + TabooLib] -.ä¾èµ–.-> A
    B2[çº¯ Java + Paper API] -.ä¾èµ–.-> B
    C2[é«˜ç‰ˆæœ¬ Paper Server] -.æä¾›.-> C

    style A fill:#e3f2fd
    style B fill:#fff3e0
    style C fill:#f3e5f5
```

**Bridge æ¨¡å—çš„ä¼˜åŠ¿ï¼š**
- âœ… **éš”ç¦»ä¾èµ–**ï¼šBridge ä½¿ç”¨çº¯ Javaï¼Œæ—  Kotlin ä¾èµ–å†²çª
- âœ… **API å°è£…**ï¼šå°† Paper API å°è£…æˆç®€å•æ˜“ç”¨çš„æ¥å£
- âœ… **é™ä½è€¦åˆ**ï¼šCore æ¨¡å—åªéœ€è¦ä¾èµ– Bridgeï¼Œä¸ç›´æ¥ä¾èµ– Paper
- âœ… **æ˜“äºç»´æŠ¤**ï¼šPaper API å˜æ›´æ—¶åªéœ€ä¿®æ”¹ Bridge æ¨¡å—

## é¡¹ç›®ç»“æ„è®¾è®¡

### åŒæ¨¡å—æ¶æ„

```
PaperAndTaboo/
â”œâ”€â”€ build/                          # ç»Ÿä¸€æ„å»ºè¾“å‡ºç›®å½•
â”‚   â””â”€â”€ libs/
â”‚       â”œâ”€â”€ PaperAndTaboo-bridge-1.0.jar
â”‚       â””â”€â”€ PaperAndTaboo-core-1.0.jar
â”œâ”€â”€ gradle/
â”‚   â””â”€â”€ libs.versions.toml         # Version Catalogï¼ˆç»Ÿä¸€ä¾èµ–ç®¡ç†ï¼‰
â”œâ”€â”€ bridge/                         # Bridge æ¨¡å—ï¼ˆçº¯ Javaï¼‰
â”‚   â”œâ”€â”€ src/main/java/
â”‚   â”‚   â””â”€â”€ top/maplex/paperandtaboo/
â”‚   â”‚       â”œâ”€â”€ PaperAndTabooBridge.java
â”‚   â”‚       â””â”€â”€ BridgeAPI.java
â”‚   â”œâ”€â”€ src/main/resources/
â”‚   â”‚   â””â”€â”€ paper-plugin.yml
â”‚   â””â”€â”€ build.gradle.kts
â”œâ”€â”€ core/                           # Core æ¨¡å—ï¼ˆKotlin + TabooLibï¼‰
â”‚   â”œâ”€â”€ src/main/kotlin/
â”‚   â”‚   â””â”€â”€ top/maplex/paperandtaboo/core/
â”‚   â”‚       â””â”€â”€ PaperAndTabooCore.kt
â”‚   â””â”€â”€ build.gradle.kts
â”œâ”€â”€ settings.gradle.kts
â”œâ”€â”€ build.gradle.kts
â””â”€â”€ gradle.properties
```

**æ¨¡å—è¯´æ˜ï¼š**
- **bridge**ï¼šä½¿ç”¨çº¯ Java ç¼–å†™ï¼Œå°è£… Paper APIï¼Œæ—  TabooLib ä¾èµ–
- **core**ï¼šä½¿ç”¨ Kotlin + TabooLibï¼Œå®ç°æ’ä»¶æ ¸å¿ƒåŠŸèƒ½ï¼Œä¾èµ– bridge æ¨¡å—

## æ­¥éª¤ 1ï¼šé…ç½®é¡¹ç›®æ ¹ç›®å½•

### 1.1 åˆ›å»º settings.gradle.kts

```kotlin title="settings.gradle.kts" showLineNumbers
rootProject.name = "PaperAndTaboo"

// Plugin repositories for TabooLib
pluginManagement {
    repositories {
        gradlePluginPortal()
        mavenCentral()
        // highlight-next-line
        maven("https://repo.tabooproject.org/repository/releases/")
    }
}

// Include submodules
include("bridge")
include("core")
```

**é…ç½®è¯´æ˜ï¼š**
- `pluginManagement`ï¼šé…ç½®æ’ä»¶ä»“åº“ï¼ŒåŒ…å« TabooLib Gradle æ’ä»¶ä»“åº“
- `include`ï¼šåŒ…å« bridge å’Œ core ä¸¤ä¸ªå­æ¨¡å—

### 1.2 åˆ›å»º Version Catalog

åˆ›å»º `gradle/libs.versions.toml` ç»Ÿä¸€ç®¡ç†ä¾èµ–ç‰ˆæœ¬ï¼š

```toml title="gradle/libs.versions.toml" showLineNumbers
[versions]
# Kotlin
kotlin = "2.2.21"

# Minecraft & Paper
paper-api = "1.21.8-R0.1-SNAPSHOT"

# Plugins
shadow = "8.3.0"
taboolib-gradle = "2.0.27"

[libraries]
# Paper
paper-api = { module = "io.papermc.paper:paper-api", version.ref = "paper-api" }

[plugins]
kotlin-jvm = { id = "org.jetbrains.kotlin.jvm", version.ref = "kotlin" }
shadow = { id = "com.gradleup.shadow", version.ref = "shadow" }
// highlight-next-line
taboolib = { id = "io.izzel.taboolib", version.ref = "taboolib-gradle" }
```

:::tip[Version Catalog ä¼˜åŠ¿]

ä½¿ç”¨ Version Catalog å¯ä»¥ï¼š
- åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ç»Ÿä¸€ç®¡ç†æ‰€æœ‰ä¾èµ–ç‰ˆæœ¬
- é¿å…ç‰ˆæœ¬å†²çªå’Œé‡å¤å®šä¹‰
- æ–¹ä¾¿åç»­ç‰ˆæœ¬å‡çº§

:::

### 1.3 é…ç½®æ ¹é¡¹ç›® build.gradle.kts

```kotlin title="build.gradle.kts" showLineNumbers
plugins {
    alias(libs.plugins.kotlin.jvm) apply false
    alias(libs.plugins.shadow) apply false
}

group = "top.maplex"
version = "1.0"

// é…ç½®æ‰€æœ‰å­é¡¹ç›®
subprojects {
    apply(plugin = "org.jetbrains.kotlin.jvm")

    repositories {
        mavenCentral()
        maven("https://repo.papermc.io/repository/maven-public/")
    }
}

// ç»Ÿä¸€æ„å»ºä»»åŠ¡
tasks.register("buildAll") {
    group = "build"
    description = "Build all subprojects"
    dependsOn(":bridge:build", ":core:build")
}

// æ¸…ç†ä»»åŠ¡
tasks.register<Delete>("cleanAll") {
    group = "build"
    description = "Clean all build outputs"
    delete(layout.buildDirectory)
    subprojects {
        delete(layout.buildDirectory)
    }
}
```

**å…³é”®ç‚¹ï¼š**
- `apply false`ï¼šåœ¨æ ¹é¡¹ç›®ä¸­å£°æ˜æ’ä»¶ä½†ä¸åº”ç”¨ï¼Œç”±å­é¡¹ç›®æŒ‰éœ€åº”ç”¨
- `buildAll`ï¼šè‡ªå®šä¹‰ä»»åŠ¡ï¼Œä¸€æ¬¡æ€§æ„å»ºæ‰€æœ‰æ¨¡å—
- `cleanAll`ï¼šæ¸…ç†æ‰€æœ‰æ„å»ºè¾“å‡º

## æ­¥éª¤ 2ï¼šåˆ›å»º Bridge æ¨¡å—

### 2.1 Bridge æ¨¡å—çš„ build.gradle.kts

```kotlin title="bridge/build.gradle.kts" showLineNumbers
plugins {
    java
    alias(libs.plugins.shadow)
}

group = "top.maplex"
version = "1.0"

repositories {
    mavenCentral()
    maven("https://repo.papermc.io/repository/maven-public/") {
        name = "papermc-repo"
    }
}

dependencies {
    // highlight-next-line
    compileOnly(libs.paper.api)
}

java {
    sourceCompatibility = JavaVersion.VERSION_21
    targetCompatibility = JavaVersion.VERSION_21
    toolchain {
        languageVersion.set(JavaLanguageVersion.of(21))
    }
}

tasks {
    shadowJar {
        // highlight-start
        archiveBaseName.set("PaperAndTaboo-bridge")
        archiveClassifier.set("")
        destinationDirectory.set(rootProject.layout.buildDirectory.dir("libs"))
        // highlight-end
    }

    build {
        dependsOn(shadowJar)
    }

    processResources {
        val props = mapOf("version" to version)
        inputs.properties(props)
        filteringCharset = "UTF-8"
        filesMatching("paper-plugin.yml") {
            expand(props)
        }
    }

    compileJava {
        options.encoding = "UTF-8"
    }
}
```

:::warning[åªä½¿ç”¨ Java]

Bridge æ¨¡å—**ä¸è¦**æ·»åŠ  Kotlin æ’ä»¶å’Œä¾èµ–ï¼Œä¿æŒçº¯ Java é¡¹ç›®ï¼Œé¿å…ä¾èµ–å†²çªã€‚

:::

### 2.2 åˆ›å»º Bridge ä¸»ç±»

```java title="bridge/src/main/java/top/maplex/paperandtaboo/PaperAndTabooBridge.java" showLineNumbers
package top.maplex.paperandtaboo;

import org.bukkit.plugin.java.JavaPlugin;

public class PaperAndTabooBridge extends JavaPlugin {

    private static PaperAndTabooBridge instance;
    private BridgeAPI bridgeAPI;

    @Override
    public void onEnable() {
        instance = this;
        // highlight-next-line
        bridgeAPI = new BridgeAPI(this);

        getLogger().info("PaperAndTaboo Bridge plugin enabled!");
    }

    @Override
    public void onDisable() {
        getLogger().info("PaperAndTaboo Bridge plugin disabled!");
    }

    public static PaperAndTabooBridge getInstance() {
        return instance;
    }

    // highlight-next-line
    public BridgeAPI getBridgeAPI() {
        return bridgeAPI;
    }
}
```

**ä»£ç è¯´æ˜ï¼š**
- `PaperAndTabooBridge`ï¼šæ ‡å‡†çš„ Bukkit æ’ä»¶ä¸»ç±»
- `bridgeAPI`ï¼šAPI å®ä¾‹ï¼Œä¾› Core æ¨¡å—è°ƒç”¨
- `getInstance()`ï¼šå•ä¾‹æ¨¡å¼ï¼Œæ–¹ä¾¿å…¶ä»–æ’ä»¶è·å–å®ä¾‹

### 2.3 åˆ›å»º BridgeAPI ç±»

```java title="bridge/src/main/java/top/maplex/paperandtaboo/BridgeAPI.java" showLineNumbers
package top.maplex.paperandtaboo;

import org.bukkit.plugin.Plugin;

/**
 * Bridge API for PaperAndTaboo
 * This class exposes Paper API functionality to the core module
 */
public class BridgeAPI {

    private final PaperAndTabooBridge plugin;

    public BridgeAPI(PaperAndTabooBridge plugin) {
        this.plugin = plugin;
    }

    /**
     * Get the bridge plugin instance
     * @return Plugin instance
     */
    public Plugin getPlugin() {
        return plugin;
    }

    // åœ¨è¿™é‡Œæ·»åŠ ä½ éœ€è¦æš´éœ²ç»™ Core æ¨¡å—çš„ Paper API æ–¹æ³•
    // ç¤ºä¾‹ï¼š
    // public void sendActionBar(Player player, String message) {
    //     player.sendActionBar(Component.text(message));
    // }
}
```

**è®¾è®¡è¦ç‚¹ï¼š**
- å°è£… Paper API çš„å¤æ‚è°ƒç”¨
- æä¾›ç®€å•æ˜“ç”¨çš„æ¥å£ç»™ Core æ¨¡å—
- å¯ä»¥æ·»åŠ ä»»ä½•ä½ éœ€è¦çš„ Paper åŠŸèƒ½

### 2.4 é…ç½® paper-plugin.yml

```yaml title="bridge/src/main/resources/paper-plugin.yml" showLineNumbers
name: PaperAndTaboo-Bridge
version: '${version}'
main: top.maplex.paperandtaboo.PaperAndTabooBridge
api-version: '1.21'
authors: [YourName]
website: www.example.com
description: PaperAndTaboo Bridge Module - Paper API Wrapper
```

## æ­¥éª¤ 3ï¼šåˆ›å»º Core æ¨¡å—

### 3.1 Core æ¨¡å—çš„ build.gradle.kts

```kotlin title="core/build.gradle.kts" showLineNumbers
import io.izzel.taboolib.gradle.*
import org.jetbrains.kotlin.gradle.tasks.KotlinCompile

plugins {
    java
    alias(libs.plugins.kotlin.jvm)
    // highlight-next-line
    alias(libs.plugins.taboolib)
    alias(libs.plugins.shadow)
}

// highlight-start
taboolib {
    description {
        // è®¾ç½®æ’ä»¶ä¾èµ–ï¼ˆPaper æ’ä»¶ä¾èµ–ï¼‰
        dependencies {
            name("PaperAndTaboo-Bridge")
        }
    }

    env {
        // å®‰è£…éœ€è¦çš„ TabooLib æ¨¡å—
        install(Basic)
        install(Bukkit)
        install(BukkitUI)
        install(BukkitUtil)
        install(BukkitNMSUtil)
        install(BukkitHook)
        install(CommandHelper)
        install(I18n)
        install(MinecraftChat)
        install(Database)
        install(DatabasePlayer)
        install(Kether)
    }

    version {
        taboolib = "6.2.3"
    }
}
// highlight-end

group = "top.maplex"
version = "1.0"

repositories {
    mavenCentral()
    maven("https://repo.papermc.io/repository/maven-public/") {
        name = "papermc-repo"
    }
}

dependencies {
    // Depend on bridge module
    // highlight-next-line
    compileOnly(project(":bridge"))

    // Paper API
    compileOnly(libs.paper.api)

    // Kotlin
    compileOnly(kotlin("stdlib"))
}

kotlin {
    jvmToolchain(21)
}

tasks {
    shadowJar {
        archiveBaseName.set("PaperAndTaboo-core")
        archiveClassifier.set("")
        destinationDirectory.set(rootProject.layout.buildDirectory.dir("libs"))
    }

    build {
        dependsOn(shadowJar)
    }

    withType<JavaCompile> {
        options.encoding = "UTF-8"
    }

    withType<KotlinCompile> {
        compilerOptions {
            jvmTarget.set(org.jetbrains.kotlin.gradle.dsl.JvmTarget.JVM_21)
            freeCompilerArgs.add("-Xjvm-default=all")
        }
    }
}

java {
    sourceCompatibility = JavaVersion.VERSION_21
    targetCompatibility = JavaVersion.VERSION_21
}
```

**å…³é”®é…ç½®ï¼š**
- `alias(libs.plugins.taboolib)`ï¼šåº”ç”¨ TabooLib Gradle æ’ä»¶
- `taboolib { }`ï¼šTabooLib DSL é…ç½®å—
- `compileOnly(project(":bridge"))`ï¼šä¾èµ– bridge æ¨¡å—
- `dependencies { name("PaperAndTaboo-Bridge") }`ï¼šå£°æ˜ Paper æ’ä»¶ä¾èµ–

### 3.2 åˆ›å»º Core ä¸»ç±»

```kotlin title="core/src/main/kotlin/top/maplex/paperandtaboo/core/PaperAndTabooCore.kt" showLineNumbers
package top.maplex.paperandtaboo.core

import taboolib.common.platform.Plugin
import taboolib.common.platform.function.info
import taboolib.platform.BukkitPlugin
import top.maplex.paperandtaboo.BridgeAPI
import top.maplex.paperandtaboo.PaperAndTabooBridge

object PaperAndTabooCore : Plugin() {

    // highlight-next-line
    lateinit var bridgeAPI: BridgeAPI
        private set

    override fun onEnable() {
        // è·å– Bridge æ’ä»¶çš„ API
        // highlight-start
        val bridgePlugin = BukkitPlugin.getInstance().server.pluginManager.getPlugin("PaperAndTaboo-Bridge")
        if (bridgePlugin is PaperAndTabooBridge) {
            bridgeAPI = bridgePlugin.bridgeAPI
            info("Successfully hooked into PaperAndTaboo-Bridge!")
        } else {
            error("Failed to hook into PaperAndTaboo-Bridge! Please ensure the bridge plugin is installed.")
        }
        // highlight-end

        info("PaperAndTaboo Core plugin enabled!")
    }

    override fun onDisable() {
        info("PaperAndTaboo Core plugin disabled!")
    }
}
```

**ä»£ç è¯´æ˜ï¼š**
- `object PaperAndTabooCore`ï¼šKotlin å•ä¾‹å¯¹è±¡ï¼ŒTabooLib æ’ä»¶ä¸»ç±»
- `lateinit var bridgeAPI`ï¼šå»¶è¿Ÿåˆå§‹åŒ–çš„ Bridge API å¼•ç”¨
- `getPlugin("PaperAndTaboo-Bridge")`ï¼šè·å– Bridge æ’ä»¶å®ä¾‹
- `bridgePlugin.bridgeAPI`ï¼šè·å– Bridge æä¾›çš„ API

:::info[TabooLib æ’ä»¶ä¾èµ–]

TabooLib ä¼šè‡ªåŠ¨å¤„ç† `plugin.yml` ä¸­çš„ä¾èµ–å£°æ˜ï¼Œç¡®ä¿ Bridge æ’ä»¶åœ¨ Core æ’ä»¶ä¹‹å‰åŠ è½½ã€‚

:::

## æ­¥éª¤ 4ï¼šæ„å»ºå’Œä½¿ç”¨

### 4.1 æ„å»ºé¡¹ç›®

åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œï¼š

```bash
# Windows
gradlew.bat buildAll

# macOS/Linux
./gradlew buildAll
```

æ„å»ºå®Œæˆåï¼Œåœ¨ `build/libs/` ç›®å½•ä¸‹ä¼šç”Ÿæˆä¸¤ä¸ª JAR æ–‡ä»¶ï¼š

```
build/libs/
â”œâ”€â”€ PaperAndTaboo-bridge-1.0.jar
â””â”€â”€ PaperAndTaboo-core-1.0.jar
```

### 4.2 éƒ¨ç½²åˆ°æœåŠ¡å™¨

å°†ä¸¤ä¸ª JAR æ–‡ä»¶å¤åˆ¶åˆ°æœåŠ¡å™¨çš„ `plugins/` ç›®å½•ï¼š

```
æœåŠ¡å™¨ç›®å½•/
â”œâ”€â”€ plugins/
â”‚   â”œâ”€â”€ PaperAndTaboo-bridge-1.0.jar    â† å¿…é¡»å®‰è£…
â”‚   â””â”€â”€ PaperAndTaboo-core-1.0.jar      â† ä¾èµ– bridge
â”œâ”€â”€ paper.jar
â””â”€â”€ ...
```

:::danger[å¿…é¡»åŒæ—¶å®‰è£…ä¸¤ä¸ªæ’ä»¶]

Core æ’ä»¶ä¾èµ– Bridge æ’ä»¶ï¼Œ**ä¸¤ä¸ªæ’ä»¶éƒ½å¿…é¡»å®‰è£…**ï¼Œå¦åˆ™ Core æ’ä»¶æ— æ³•å¯åŠ¨ï¼

:::

### 4.3 åœ¨ Core ä¸­ä½¿ç”¨ Bridge API

```kotlin title="ç¤ºä¾‹ï¼šä½¿ç”¨ Bridge API" showLineNumbers
import taboolib.common.platform.command.CommandBody
import taboolib.common.platform.command.CommandHeader
import taboolib.expansion.createHelper
import top.maplex.paperandtaboo.core.PaperAndTabooCore

@CommandHeader("test")
object TestCommand {

    @CommandBody
    val main = createHelper {
        execute<Player> { sender, _, _ ->
            // highlight-start
            // ä½¿ç”¨ Bridge API
            val bridge = PaperAndTabooCore.bridgeAPI
            val plugin = bridge.plugin
            // highlight-end

            sender.sendMessage("Bridge Plugin: ${plugin.name}")
            sender.sendMessage("Bridge Version: ${plugin.description.version}")
        }
    }
}
```

**ä½¿ç”¨æµç¨‹ï¼š**
1. é€šè¿‡ `PaperAndTabooCore.bridgeAPI` è·å– API å®ä¾‹
2. è°ƒç”¨ Bridge API æä¾›çš„æ–¹æ³•
3. Bridge å†…éƒ¨ä½¿ç”¨ Paper API å®ç°å…·ä½“åŠŸèƒ½

## æœ€ä½³å®è·µ

### æ‰©å±• Bridge API

æ ¹æ®ä½ çš„éœ€æ±‚ï¼Œåœ¨ `BridgeAPI.java` ä¸­æ·»åŠ æ–¹æ³•ï¼š

```java title="BridgeAPI.java - æ‰©å±•ç¤ºä¾‹" showLineNumbers
package top.maplex.paperandtaboo;

import net.kyori.adventure.text.Component;
import org.bukkit.entity.Player;
import org.bukkit.plugin.Plugin;

public class BridgeAPI {

    private final PaperAndTabooBridge plugin;

    public BridgeAPI(PaperAndTabooBridge plugin) {
        this.plugin = plugin;
    }

    public Plugin getPlugin() {
        return plugin;
    }

    // highlight-start
    /**
     * Send action bar to player
     * @param player Target player
     * @param message Message text
     */
    public void sendActionBar(Player player, String message) {
        player.sendActionBar(Component.text(message));
    }

    /**
     * Send title to player
     * @param player Target player
     * @param title Title text
     * @param subtitle Subtitle text
     */
    public void sendTitle(Player player, String title, String subtitle) {
        player.sendTitle(
            Component.text(title),
            Component.text(subtitle),
            10, 70, 20
        );
    }
    // highlight-end
}
```

ç„¶ååœ¨ Core æ¨¡å—ä¸­ä½¿ç”¨ï¼š

```kotlin title="åœ¨ Core ä¸­ä½¿ç”¨æ‰©å±•çš„ API" showLineNumbers
@CommandBody
val title = createHelper {
    execute<Player> { sender, _, _ ->
        val bridge = PaperAndTabooCore.bridgeAPI

        // highlight-start
        // ä½¿ç”¨ Bridge å°è£…çš„ Paper API
        bridge.sendActionBar(sender, "Action Bar æ¶ˆæ¯")
        bridge.sendTitle(sender, "æ ‡é¢˜", "å‰¯æ ‡é¢˜")
        // highlight-end
    }
}
```

### ç‰ˆæœ¬éš”ç¦»çš„ä¼˜åŠ¿

```mermaid
graph TB
    A[Core æ¨¡å—] --> B[Bridge API]
    B --> C1[Paper 1.20 API]
    B --> C2[Paper 1.21 API]
    B --> C3[Paper 1.22 API]

    A2[å‡çº§ Paper ç‰ˆæœ¬] --> B2[åªéœ€ä¿®æ”¹ Bridge]
    B2 -.ä¸å½±å“.-> A

    style A fill:#e3f2fd
    style B fill:#fff3e0
    style C1 fill:#f3e5f5
    style C2 fill:#f3e5f5
    style C3 fill:#f3e5f5
```

**å½“ Paper API ç‰ˆæœ¬å˜æ›´æ—¶ï¼š**
1. åªéœ€ä¿®æ”¹ Bridge æ¨¡å—çš„å®ç°
2. Core æ¨¡å—çš„ä»£ç æ— éœ€æ”¹åŠ¨
3. Bridge API æ¥å£ä¿æŒç¨³å®š

## å¸¸è§é—®é¢˜

### Core æ’ä»¶æ— æ³•åŠ è½½ï¼Ÿ

**æ£€æŸ¥äº‹é¡¹ï¼š**
1. âœ… Bridge æ’ä»¶æ˜¯å¦å·²å®‰è£…
2. âœ… Bridge æ’ä»¶æ˜¯å¦æˆåŠŸå¯åŠ¨
3. âœ… Core çš„ `taboolib { }` é…ç½®æ˜¯å¦æ­£ç¡®å£°æ˜ä¾èµ–

**è§£å†³æ–¹æ³•ï¼š**

æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—ï¼Œç¡®è®¤ Bridge æ’ä»¶å…ˆäº Core æ’ä»¶åŠ è½½ï¼š

```log
[INFO] [PaperAndTaboo-Bridge] Enabling PaperAndTaboo-Bridge v1.0
[INFO] PaperAndTaboo Bridge plugin enabled!
[INFO] [PaperAndTaboo-Core] Enabling PaperAndTaboo-Core v1.0
[INFO] Successfully hooked into PaperAndTaboo-Bridge!
```

### å¦‚ä½•æ·»åŠ æ›´å¤š Paper APIï¼Ÿ

ç›´æ¥åœ¨ `BridgeAPI.java` ä¸­æ·»åŠ æ–°æ–¹æ³•ï¼š

```java
public void yourNewMethod(Player player) {
    // ä½¿ç”¨ Paper API å®ç°åŠŸèƒ½
    player.sendPlainMessage("Hello!");
}
```

### Bridge æ¨¡å—å¯ä»¥ç”¨ Kotlin å—ï¼Ÿ

âŒ **ä¸æ¨è**ã€‚ä½¿ç”¨ Java çš„ä¸»è¦åŸå› ï¼š
- é¿å… Kotlin ç‰ˆæœ¬å†²çª
- å‡å°‘ä¾èµ–ä½“ç§¯
- ç®€åŒ–æ„å»ºé…ç½®

Bridge æ¨¡å—åº”ä¿æŒç®€å•ã€çº¯å‡€ï¼Œåªå°è£… Paper APIã€‚

## æ€»ç»“

é€šè¿‡ Bridge æ¨¡å—è®¾è®¡ï¼Œä½ å¯ä»¥ï¼š

âœ… **è§£å†³ä¾èµ–å†²çª**ï¼šBridge ä½¿ç”¨çº¯ Javaï¼Œéš”ç¦» Kotlin ä¾èµ–
âœ… **ç‰ˆæœ¬è§£è€¦**ï¼šPaper API å˜æ›´åªéœ€ä¿®æ”¹ Bridge
âœ… **ç®€åŒ–å¼€å‘**ï¼šCore æ¨¡å—ä¸“æ³¨ä¸šåŠ¡é€»è¾‘ï¼Œä½¿ç”¨ TabooLib çš„ä¾¿åˆ©æ€§
âœ… **æ˜“äºç»´æŠ¤**ï¼šæ¨¡å—èŒè´£æ¸…æ™°ï¼Œä¾¿äºåæœŸæ‰©å±•

è¿™ç§æ¶æ„ç‰¹åˆ«é€‚åˆéœ€è¦åŒæ—¶ä½¿ç”¨ TabooLib å’Œé«˜ç‰ˆæœ¬ Paper API çš„å¤§å‹é¡¹ç›®ã€‚

## å®Œæ•´ç¤ºä¾‹é¡¹ç›®

æƒ³è¦æŸ¥çœ‹å®Œæ•´çš„å·¥ä½œç¤ºä¾‹ï¼Ÿè®¿é—®æˆ‘ä»¬çš„ GitHub ä»“åº“ï¼š

:::tip[ç¤ºä¾‹é¡¹ç›®]

ğŸ“¦ **PaperAndTaboo** - å®Œæ•´çš„ Bridge æ¨¡å—ç¤ºä¾‹é¡¹ç›®

ğŸ”— [https://github.com/FxRayHughes/PaperAndTaboo](https://github.com/FxRayHughes/PaperAndTaboo)

**é¡¹ç›®ç‰¹ç‚¹ï¼š**
- âœ… å®Œæ•´çš„åŒæ¨¡å—æ¶æ„
- âœ… Bridge æ¨¡å—ï¼ˆçº¯ Javaï¼‰
- âœ… Core æ¨¡å—ï¼ˆKotlin + TabooLibï¼‰
- âœ… Version Catalog ç»Ÿä¸€ä¾èµ–ç®¡ç†
- âœ… å¼€ç®±å³ç”¨çš„æ„å»ºé…ç½®

ä½ å¯ä»¥ clone è¿™ä¸ªä»“åº“ä½œä¸ºä½ çš„é¡¹ç›®æ¨¡æ¿ï¼

:::
